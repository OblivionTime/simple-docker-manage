(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef6ca24e"],{"0fc7":function(t,e,a){},"238e":function(t,e,a){t.exports=a.p+"static/img/container.75d5a710.png"},"4df4":function(t,e,a){"use strict";var i=a("0366"),n=a("7b0b"),o=a("9bdd"),r=a("e95a"),l=a("50c4"),s=a("8418"),c=a("35a1");t.exports=function(t){var e,a,u,d,m,p,f=n(t),g="function"==typeof this?this:Array,v=arguments.length,h=v>1?arguments[1]:void 0,b=void 0!==h,y=c(f),_=0;if(b&&(h=i(h,v>2?arguments[2]:void 0,2)),void 0==y||g==Array&&r(y))for(e=l(f.length),a=new g(e);e>_;_++)p=b?h(f[_],_):f[_],s(a,_,p);else for(d=y.call(f),m=d.next,a=new g;!(u=m.call(d)).done;_++)p=b?o(d,h,[u.value,_],!0):u.value,s(a,_,p);return a.length=_,a}},"89f8":function(t,e,a){"use strict";a("9635")},9635:function(t,e,a){},a15b:function(t,e,a){"use strict";var i=a("23e7"),n=a("44ad"),o=a("fc6a"),r=a("a640"),l=[].join,s=n!=Object,c=r("join",",");i({target:"Array",proto:!0,forced:s||!c},{join:function(t){return l.call(o(this),void 0===t?",":t)}})},a630:function(t,e,a){var i=a("23e7"),n=a("4df4"),o=a("1c7e"),r=!o((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:r},{from:n})},adc4:function(t,e,a){"use strict";a("0fc7")},b775:function(t,e,a){"use strict";a("d3b7");var i=a("bc3a"),n=a.n(i),o=a("4360"),r=a("a18c"),l=a("5c96"),s="/api/docker/v1/",c=n.a.create({baseURL:s,timeout:5e4});c.interceptors.request.use((function(t){return o["a"].getters.hostname&&(t.headers["hostname"]=o["a"].getters.hostname),t}),(function(t){return Promise.reject(t)})),c.interceptors.response.use((function(t){if(401!=t.data.code)return t.data;Object(l["Message"])({message:t.data.message,type:"error",duration:1500,onClose:function(){setTimeout((function(){r["a"].push("/")}),1500)}})}),(function(t){console.log(t)})),e["a"]=c},b85c:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("fb6a"),a("b0c0"),a("a630"),a("ac1f"),a("00b4");function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function n(t,e){if(t){if("string"===typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}}function o(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=n(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,s=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return l=t.done,t},e:function(t){s=!0,r=t},f:function(){try{l||null==a["return"]||a["return"]()}finally{if(s)throw r}}}}},d28b:function(t,e,a){var i=a("746f");i("iterator")},dbe9:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"header"},[i("el-button",{staticClass:"header-btn",attrs:{icon:"el-icon-plus"},on:{click:function(e){t.pullDialog=!0,t.imageName=""}}},[t._v("拉取")]),i("el-button",{staticClass:"header-btn",attrs:{icon:"el-icon-search"},on:{click:function(e){t.searchDialog=!0,t.searchName=""}}},[t._v("搜索")]),i("el-button",{staticClass:"header-btn",attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(e){return t.removeImage(t.multipleSelection)}}},[t._v("删除")])],1),i("div",{staticClass:"content"},[i("div",{staticClass:"table"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),i("el-table-column",{attrs:{prop:"version",label:"版本",align:"center"}}),i("el-table-column",{attrs:{prop:"imageID",label:"镜像ID",align:"center"}}),i("el-table-column",{attrs:{prop:"size",label:"镜像大小",align:"center"}}),i("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center"}}),i("el-table-column",{attrs:{fixed:"right",label:"镜像详情",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showDetailDialog(e.row.fullName)}}},[t._v(" 查看 ")])]}}])}),i("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(a){return t.showCreateDialog(e.row.fullName,e.row.exposedPorts)}}},[t._v(" 新建容器 ")]),i("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:function(a){return t.removeImage([e.row.fullName])}}},[t._v(" 移除 ")])]}}])})],1)],1)]),i("el-dialog",{attrs:{title:"创建容器",visible:t.createDialog,top:"20px",width:"680px","close-on-click-modal":!1},on:{"update:visible":function(e){t.createDialog=e}}},[i("div",{staticStyle:{width:"650px","max-height":"600px",overflow:"auto"}},[i("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[i("img",{attrs:{src:a("238e"),alt:"",srcset:"",width:"50",height:"50"}}),i("div",{staticStyle:{"margin-left":"15px","padding-top":"10px"}},[i("span",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[t._v("创建一个新容器")]),i("div",{staticStyle:{color:"rgba(0,0,0,0.6)","margin-top":"10px"}},[t._v(t._s(t.formData.image))])])]),i("hr"),i("div",{staticClass:"dialog-item",staticStyle:{width:"540px"}},[i("h3",[t._v("容器名")]),i("el-input",{attrs:{placeholder:"请输入容器名"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),0!=t.formData.portBindings.length?i("div",{staticClass:"dialog-item",staticStyle:{width:"80%"}},[i("h3",[t._v("端口")]),t._l(t.formData.portBindings,(function(e,a){return i("div",{key:a,staticStyle:{display:"flex","align-items":"center",margin:"10px 0"}},[i("el-input",{staticStyle:{"margin-right":"20px",width:"260px"},attrs:{placeholder:"暴露端口"},model:{value:t.formData.portBindings[a].value,callback:function(e){t.$set(t.formData.portBindings[a],"value",e)},expression:"formData.portBindings[index].value"}}),i("div",{staticStyle:{"font-size":"18px"}},[t._v(" "+t._s(t.formData.portBindings[a].key)+" ")])],1)}))],2):t._e(),i("div",{staticClass:"dialog-item",staticStyle:{width:"80%"}},[i("h3",[t._v("目录映射")]),t._l(t.formData.binds,(function(e,a){return i("div",{key:a,staticStyle:{display:"flex","align-items":"center",margin:"10px 0",width:"620px"}},[i("div",{staticStyle:{"margin-right":"20px",width:"260px"}},[i("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"主机目录"},model:{value:t.formData.binds[a].value,callback:function(e){t.$set(t.formData.binds[a],"value",e)},expression:"formData.binds[index].value"}})],1),i("div",{staticStyle:{"margin-right":"20px",width:"260px"}},[i("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"容器目录"},model:{value:t.formData.binds[a].key,callback:function(e){t.$set(t.formData.binds[a],"key",e)},expression:"formData.binds[index].key"}})],1),i("el-button",{staticStyle:{"font-size":"27px",color:"rgba(0,0,0,0.8)"},attrs:{type:"text",icon:"el-icon-plus",circle:""},on:{click:function(e){return t.formData.binds.push({label:"",value:""})}}})],1)}))],2),i("div",{staticClass:"dialog-item",staticStyle:{width:"80%"}},[i("h3",[t._v("环境变量")]),t._l(t.formData.env,(function(e,a){return i("div",{key:a,staticStyle:{display:"flex","align-items":"center",margin:"10px 0",width:"620px"}},[i("div",{staticStyle:{"margin-right":"20px",width:"260px"}},[i("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"环境名称"},model:{value:t.formData.env[a].key,callback:function(e){t.$set(t.formData.env[a],"key",e)},expression:"formData.env[index].key"}})],1),i("div",{staticStyle:{"margin-right":"20px",width:"260px"}},[i("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"值"},model:{value:t.formData.env[a].value,callback:function(e){t.$set(t.formData.env[a],"value",e)},expression:"formData.env[index].value"}})],1),i("el-button",{staticStyle:{"font-size":"27px",color:"rgba(0,0,0,0.8)"},attrs:{type:"text",icon:"el-icon-plus",circle:""},on:{click:function(e){return t.formData.env.push({label:"",value:""})}}})],1)}))],2),i("div",{staticClass:"dialog-item",staticStyle:{width:"80%"}},[i("h3",[t._v("重启策略")]),i("div",{staticStyle:{display:"flex","align-items":"center",margin:"10px 0",width:"620px"}},[i("div",{staticStyle:{"margin-right":"20px",width:"260px"}},[i("p",[t._v("重启策略")]),i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择重启策略"},model:{value:t.formData.restartPolicy.Name,callback:function(e){t.$set(t.formData.restartPolicy,"Name",e)},expression:"formData.restartPolicy.Name"}},[i("el-option",{attrs:{label:"容器退出时总是重启",value:"always"}}),i("el-option",{attrs:{label:"容器以非零状态退出时重启",value:"on-failure"}}),i("el-option",{attrs:{label:"除非显式停止，否则容器总是重启",value:"unless-stopped"}}),i("el-option",{attrs:{label:"不重启容器",value:"no"}})],1)],1),"on-failure"==t.formData.restartPolicy.Name?i("div",{staticStyle:{"margin-right":"20px",width:"260px"}},[i("p",[t._v("最大尝试次数")]),i("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"最大尝试次数"},model:{value:t.formData.restartPolicy.MaximumRetryCount,callback:function(e){t.$set(t.formData.restartPolicy,"MaximumRetryCount",e)},expression:"formData.restartPolicy.MaximumRetryCount"}})],1):t._e()])])]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.createDialog=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.createContainerSumbit}},[t._v("创 建")])],1)]),i("el-dialog",{staticStyle:{height:"80vh",overflow:"auto"},attrs:{title:"新建镜像",visible:t.pullDialog,width:"800px",top:"5%"},on:{"update:visible":function(e){t.pullDialog=e}}},[i("el-input",{attrs:{autocomplete:"off"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.pullImage(e)}},model:{value:t.imageName,callback:function(e){t.imageName=e},expression:"imageName"}},[i("el-button",{staticStyle:{"background-color":"#409eff",color:"white","border-radius":"0"},attrs:{slot:"append",icon:"el-icon-plus"},on:{click:t.pullImage},slot:"append"},[t._v("新建")])],1),i("div",{staticStyle:{"margin-top":"20px"}},[0!=t.createProgressList.length?i("el-collapse",t._l(t.createProgressList,(function(e,a){return i("el-collapse-item",{key:a},[i("template",{slot:"title"},[i("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center",width:"100%"}},[i("div",[t._v(" "+t._s(e.title)+" "),i("span",{staticClass:"pull-desc",style:1==e.status?"color: #099268;":2==e.status?"color: red;":""},[t._v("( "+t._s(e.statusDesc)+")")])]),0==e.status?i("el-button",{staticStyle:{"margin-right":"20px",color:"red"},attrs:{type:"text"},on:{click:function(e){return t.stopPull(a)}}},[t._v("停止")]):t._e()],1)]),t._l(e.content,(function(e){return i("div",{key:e},[t._v(" "+t._s(e)+" ")])}))],2)})),1):t._e()],1)],1),i("el-dialog",{attrs:{title:"搜索镜像",visible:t.searchDialog,width:"900px"},on:{"update:visible":function(e){t.searchDialog=e}}},[i("el-input",{attrs:{autocomplete:"off"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loadSearchData(e)}},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}},[i("el-button",{staticStyle:{"background-color":"#409eff",color:"white","border-radius":"0"},attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.loadSearchData},slot:"append"},[t._v("搜索")])],1),i("div",{staticStyle:{"margin-top":"20px"}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.searchData.slice(10*(t.searchPage-1),10*t.searchPage),height:"560px",stripe:""}},[i("el-table-column",{attrs:{prop:"name",label:"名称",align:"center",width:"120px","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"star_count",label:"获赞数",align:"center",width:"120px"}}),i("el-table-column",{attrs:{prop:"description",label:"描述",align:"center","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"size",label:"类型",align:"center",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.is_official?i("div",{staticClass:"official-mirror"},[t._v(" 官方镜像 ")]):i("div",{staticClass:"unofficial-mirror"},[t._v(" 非官方镜像 ")])]}}])})],1),i("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{background:"",align:"center",layout:"total, prev, pager, next, jumper","current-page":t.searchPage,total:t.searchTotal},on:{"current-change":t.handleSearchChange}})],1)],1),i("el-dialog",{staticStyle:{height:"93vh",overflow:"auto"},attrs:{title:"镜像详情",visible:t.DetailDialog,top:"20px",width:"1200px"},on:{"update:visible":function(e){t.DetailDialog=e}}},[t.DetailDialog?i("INFO",{attrs:{name:t.currentDetailName}}):t._e()],1)],1)},n=[],o=a("b85c"),r=(a("d3b7"),a("b0c0"),a("99af"),a("a15b"),a("b775"));function l(t){return Object(r["a"])({url:"/image/list",method:"get",params:t})}function s(t){return Object(r["a"])({url:"/image/detail",method:"get",params:t})}function c(t){return Object(r["a"])({url:"/image/search",method:"get",params:t})}function u(t){return Object(r["a"])({url:"/image/delete",method:"post",data:t})}function d(t){return Object(r["a"])({url:"/container/create",method:"post",data:t})}var m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-descriptions",{staticClass:"margin-top",attrs:{title:"基本信息",column:3,border:""}},t._l(t.descriptionsItems,(function(e,i){return a("el-descriptions-item",{key:e},[a("template",{slot:"label"},[t._v(" "+t._s(t.descriptionsItemsCH[i])+" ")]),t._v(" "+t._s(t.Detail[t.descriptionsItems[i]])+" ")],2)})),1),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-descriptions",{staticClass:"margin-top",attrs:{title:"容器配置",column:2,border:""}},[a("el-descriptions-item",[a("template",{slot:"label"},[t._v(" 主机 ")]),t._v(" "+t._s(t.ContainerConfig.hostname)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[t._v(" 用户 ")]),t._v(" "+t._s(t.ContainerConfig.user)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[t._v(" 域 ")]),t._v(" "+t._s(t.ContainerConfig.domain)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[t._v(" 工作目录 ")]),t._v(" "+t._s(t.ContainerConfig.Working_dir)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[t._v(" 暴露端口 ")]),t._l(t.ContainerConfig.exposed_ports,(function(e){return a("div",[a("el-tag",[t._v(t._s(e))])],1)}))],2),a("el-descriptions-item",[a("template",{slot:"label"},[t._v(" 环境变量 ")]),t._l(t.ContainerConfig.env,(function(e){return a("div",[a("el-tag",[t._v(t._s(e))])],1)}))],2),a("el-descriptions-item",[a("template",{slot:"label"},[t._v(" 命令行 ")]),t._l(t.ContainerConfig.cmd,(function(e){return a("div",[a("el-tag",[t._v(t._s(e))])],1)}))],2),a("el-descriptions-item",[a("template",{slot:"label"},[t._v(" 可映射目录 ")]),t._l(t.ContainerConfig.volumes,(function(e){return a("div",[a("el-tag",[t._v(t._s(e))])],1)}))],2)],1)],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-descriptions",{staticClass:"margin-top",attrs:{title:"镜像配置",column:2,border:""}},[a("el-descriptions-item",[a("template",{slot:"label"},[t._v(" 主机 ")]),t._v(" "+t._s(t.Config.hostname)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[t._v(" 用户 ")]),t._v(" "+t._s(t.Config.user)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[t._v(" 域 ")]),t._v(" "+t._s(t.Config.domain)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[t._v(" 工作目录 ")]),t._v(" "+t._s(t.Config.Working_dir)+" ")],2),a("el-descriptions-item",[a("template",{slot:"label"},[t._v(" 暴露端口 ")]),t._l(t.Config.exposed_ports,(function(e){return a("div",[a("el-tag",[t._v(t._s(e))])],1)}))],2),a("el-descriptions-item",[a("template",{slot:"label"},[t._v(" 环境变量 ")]),t._l(t.Config.env,(function(e){return a("div",[a("el-tag",[t._v(t._s(e))])],1)}))],2),a("el-descriptions-item",[a("template",{slot:"label"},[t._v(" 命令行 ")]),t._l(t.Config.cmd,(function(e){return a("div",[a("el-tag",[t._v(t._s(e))])],1)}))],2),a("el-descriptions-item",[a("template",{slot:"label"},[t._v(" 可映射目录 ")]),t._l(t.Config.volumes,(function(e){return a("div",[a("el-tag",[t._v(t._s(e))])],1)}))],2)],1)],1)],1)},p=[],f={name:"info",props:{name:{type:String}},data:function(){return{imageName:"mysql:5.6",Detail:{},ContainerConfig:{},Config:{},descriptionsItems:["architecture","os","id","parent","size","container","comment","virtual_size","created"],descriptionsItemsCH:["CPU架构","操作系统","镜像ID","父镜像","镜像大小","容器ID","注释","镜像虚拟大小","创建时间"]}},created:function(){this.loadData()},methods:{loadData:function(){var t=this;s({imageName:this.name}).then((function(e){0==e.code&&(t.Detail=e.data.info,t.ContainerConfig=e.data.container_config,t.Config=e.data.config,console.log(t.Detail))}))}}},g=f,v=(a("adc4"),a("2877")),h=Object(v["a"])(g,m,p,!1,null,"ddca9c24",null),b=h.exports,y={name:"container",components:{INFO:b},data:function(){return{tableData:[],loading:!0,createDialog:!1,formData:{image:"mysql:5.6",name:"mysql2",env:[{key:"MYSQL_ROOT_PASSWORD",value:"123456"}],portBindings:[{key:"3306/tcp",value:"3308"}],binds:[{key:"D:/test/mysql",value:"/tmp/mysql"}],restartPolicy:{Name:"always",MaximumRetryCount:""}},pullDialog:!1,createProgressList:[],imageName:"",searchDialog:!1,searchName:"",searchData:[],searchPage:1,searchTotal:0,multipleSelection:[],DetailDialog:!1,currentDetailName:""}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;this.loading=!0,l({page:1}).then((function(e){var a=[];0===e.code&&(a=e.data),t.tableData=a})).finally((function(){t.loading=!1}))},handlerData:function(){var t={image:this.formData.image,name:this.formData.name,env:[],portBindings:{},binds:[],restartPolicy:this.formData.restartPolicy};"on-failure"!=t.restartPolicy.Name?delete t.restartPolicy.MaximumRetryCount:t.restartPolicy.MaximumRetryCount=parseInt(this.formData.restartPolicy.MaximumRetryCount);var e,a=Object(o["a"])(this.formData.env);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(i.key){if(!i.value)return this.$message.warning("请填写完整信息!!!!");t.env.push(i.key+"="+i.value)}}}catch(d){a.e(d)}finally{a.f()}var n,r=Object(o["a"])(this.formData.portBindings);try{for(r.s();!(n=r.n()).done;){var l=n.value;l.value&&(t.portBindings[l.key]=[{HostPort:l.value}])}}catch(d){r.e(d)}finally{r.f()}var s,c=Object(o["a"])(this.formData.binds);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(u.key&&u.value){if(!u.key||!u.value)return this.$message.warning("请填写完整信息!!!!");t.binds.push(u.key+":"+u.value)}}}catch(d){c.e(d)}finally{c.f()}return t},createContainerSumbit:function(){var t=this;if(!this.formData.name)return this.$message.warning("请填写容器名称!!!!");var e=this.handlerData(),a=this.$loading({lock:!0,text:"Loading.....",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});d(e).then((function(e){0===e.code?(t.$message.success("创建成功"),t.createDialog=!1):t.$message.error(e.message)})).finally((function(){a.close()}))},showCreateDialog:function(t,e){if(this.createDialog=!0,this.formData={image:t,name:"",env:[{key:"",value:""}],portBindings:[],binds:[{key:"",value:""}],restartPolicy:{Name:"always",MaximumRetryCount:""}},e){var a,i=Object(o["a"])(e);try{for(i.s();!(a=i.n()).done;){var n=a.value;this.formData.portBindings.push({key:n,value:""})}}catch(r){i.e(r)}finally{i.f()}}},pullImage:function(){var t=this;if(!this.imageName)return this.$message.error("请输入镜像名称");var e=this.$loading({lock:!0,text:"Loading.....",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),a="";a=window.location.host;var i=new WebSocket("ws://"+a+"/api/docker/v1/image/pull?image="+this.imageName+"&hostname="+this.$store.getters.hostname),n=this.createProgressList.length;i.onopen=function(){t.createProgressList.push({pullWebsocket:i,title:t.imageName,status:0,statusDesc:"正在拉取....",content:{}}),t.imageName="",e.close()},i.onmessage=function(e){var a=t.createProgressList[n],i=JSON.parse(e.data);"success"==i.status?(a.status=1,a.pullWebsocket=null,a.statusDesc="拉取成功",a.content[a.title]="".concat(i.id," ").concat(i.status," ").concat(i.bar," ").concat(i.progress),t.loadData()):i.id&&(a.content[i.id]="".concat(i.id," ").concat(i.status," ").concat(i.bar," ").concat(i.progress)),t.$set(t.createProgressList,n,a)}},stopPull:function(t){this.createProgressList[t].pullWebsocket.send("close"),this.createProgressList[t].status=2,this.createProgressList[t].pullWebsocket=null,this.createProgressList[t].statusDesc="拉取停止",this.$set(this.createProgressList,t,this.createProgressList[t])},handleSearchChange:function(t){this.searchPage=t},loadSearchData:function(){var t=this;if(!this.searchName)return this.$message.error("请输入镜像名称");var e=this.$loading({lock:!0,text:"Loading.....",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});c({image:this.searchName}).then((function(e){var a=[];0===e.code&&(a=e.data),t.searchData=a,t.searchTotal=a.length,t.searchPage=1})).finally((function(){e.close()}))},handleSelectionChange:function(t){var e,a=[],i=Object(o["a"])(t);try{for(i.s();!(e=i.n()).done;){var n=e.value;a.push(n.fullName)}}catch(r){i.e(r)}finally{i.f()}this.multipleSelection=a},removeImage:function(t){var e=this,a=this.$createElement;this.$msgbox({title:"消息",message:a("p",null,[a("span",null,"此操作将删除 "),a("span",{style:"color: red"},t.join(",")),a("span",null,"镜像,是否继续?")]),showCancelButton:!0,confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((function(){var a=e.$loading({lock:!0,text:"Loading.....",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});u({images:t}).then((function(t){var a,i="",n=Object(o["a"])(t.data);try{for(n.s();!(a=n.n()).done;){var r=a.value;i+="".concat(r.image,"发送错误,错误原因:").concat(r.message,"<br/>")}}catch(l){n.e(l)}finally{n.f()}i?e.$notify.error({title:"错误",dangerouslyUseHTMLString:!0,message:i}):e.$message.success("启动容器成功"),e.loadData()})).finally((function(){a.close()}))}))},showDetailDialog:function(t){this.currentDetailName=t,this.DetailDialog=!0}}},_=y,D=(a("89f8"),Object(v["a"])(_,i,n,!1,null,"f7d68f80",null));e["default"]=D.exports},e01a:function(t,e,a){"use strict";var i=a("23e7"),n=a("83ab"),o=a("da84"),r=a("5135"),l=a("861d"),s=a("9bf2").f,c=a("e893"),u=o.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof m?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};c(m,u);var p=m.prototype=u.prototype;p.constructor=m;var f=p.toString,g="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;s(p,"description",{configurable:!0,get:function(){var t=l(this)?this.valueOf():this,e=f.call(t);if(r(d,t))return"";var a=g?e.slice(7,-1):e.replace(v,"$1");return""===a?void 0:a}}),i({global:!0,forced:!0},{Symbol:m})}},fb6a:function(t,e,a){"use strict";var i=a("23e7"),n=a("861d"),o=a("e8b5"),r=a("23cb"),l=a("50c4"),s=a("fc6a"),c=a("8418"),u=a("b622"),d=a("1dde"),m=a("ae40"),p=d("slice"),f=m("slice",{ACCESSORS:!0,0:0,1:2}),g=u("species"),v=[].slice,h=Math.max;i({target:"Array",proto:!0,forced:!p||!f},{slice:function(t,e){var a,i,u,d=s(this),m=l(d.length),p=r(t,m),f=r(void 0===e?m:e,m);if(o(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?n(a)&&(a=a[g],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return v.call(d,p,f);for(i=new(void 0===a?Array:a)(h(f-p,0)),u=0;p<f;p++,u++)p in d&&c(i,u,d[p]);return i.length=u,i}})}}]);